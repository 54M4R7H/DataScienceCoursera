{
    "contents" : "# =================================================================================================\n# Description: Assignment 3 - best \n#              \n# \n# Parameter:   state    - \n#              outcome  - \n#                         \n# return:      \n#\n#\n# Authhor:     Bruno Hunkeler \n# Date:        08.11.2015\n# =================================================================================================\n\n# references to functions\n# source(\"best.R\")\n\n# library references \n# library(miscTools)\n\nbest <- function(state, outcome) {\n\n  \n  # Map all valid outcomes to relevant mortality rate colname in data file\n  validOutcomes = list(\"heart attack\" = \"Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack\",\n                       \"heart failure\" = \"Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure\",\n                       \"pneumonia\" = \"Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia\")\n  \n\n  # Load data \n  data <- read.csv(\"outcome-of-care-measures.csv\", colClasses = \"character\")\n  \n  \n  # verify if requested state exists\n  if(!(state %in% data$State)) {\n    \n    stop('invalid state')\n  }\n  \n  # verify if requested outcome exists\n  if(!(length(outcome) == 1 && outcome %in% names(validOutcomes))){\n    \n    stop('invalid outcome')\n  }\n\n  statehospitals <- data[ (data$State == state) == TRUE, ]\n  \n  if (outcome == \"heart attack\") {\n    col <- statehospitals$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack\n  }\n  \n  if (outcome == \"heart failure\") {\n    col <- statehospitals$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure\n  }\n  \n  if (outcome == \"pneumonia\") {\n    col <- statehospitals$Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia\n  }\n  \n  statehospitals <- statehospitals[!is.na(17),]\n  statehospitals <- statehospitals[!is.na(statehospitals$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack),]\n  \n  # statehospitals <- as.numeric(col)\n  heartAttack_minvalue <- min(col, na.rm = FALSE)\n  \n  heartAttack_minvalue <- min(col)\n  hospitalList <- col == heartAttack_minvalue\n  hospital <- statehospitals[ hospitalList == TRUE, ]\n  hospital$Hospital.Name\n  \n}\n",
    "created" : 1447019935057.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2565950230",
    "id" : "740D80CA",
    "lastKnownWriteTime" : 1447185187,
    "path" : "C:/Users/bhunkeler/OneDrive/Dokumente/Coursera_Courses/Data Science/002_R Programming/Week 4/Assignment_3/best.R",
    "project_path" : "best.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "type" : "r_source"
}